<div class="position-fixed top-50 start-0 translate-middle ms-2">
  <button class="miuky-button" type="button" data-mdb-toggle="offcanvas" data-mdb-target="#sidenavGuild" aria-controls="sidenavGuild">
    M
    <br>
    E
    <br>
    N
    <br>
    U
  </button>
</div>

<div class="offcanvas offcanvas-start miuky-shadow" tabindex="-1" id="sidenavGuild" aria-labelledby="sidenavGuildLabel">
  <div class="offcanvas-header justify-content-start">
    <button class="text-white-50 me-4" type="button" data-mdb-dismiss="offcanvas" aria-label="Close" style="background: none; border: none;">
      <i class="fas fa-angle-left fa-2x"></i>
    </button>
    <div class="bg-image rounded w-100" style="height: 100px;">
      <img crossorigin="anonymous" src="<%= guild.iconURL === null ? '/img/background.png' : guild.iconURL %>" style="width: 100%; height: 100%; transform: scale(1.4); filter: blur(10px); opacity: 0.3; inset: 0px;" />
      <div class="mask rounded" style="width: 100%; height: 100%;">
        <div class="d-flex justify-content-center align-items-center h-100 text-center">
          <% if (guild?.icon) { %>
          <div>
            <img crossorigin="anonymous" src="<%= guild.iconURL === null ? '/img/miuky.png' : guild.icon.startsWith('a_') ? guild.iconURL.replace('.webp', '.gif') : guild.iconURL %>" alt="<%= guild.name %>" class="rounded-circle" style="height: 100%; width: 50px;">
            <br>
            <%= guild.name.slice(0, 18) %>
          </div>
          <% } else { %>
          <div>
            <div class="rounded-circle mx-auto text-center d-flex justify-content-center align-items-center" style="height: 50px; width: 50px; border: 3px solid rgba(240, 248, 255, 0.7);">
              <span>
                <%= guild.name.charAt().toUpperCase() %>
              </span>
            </div>
            <div>
              <%= guild.name.slice(0, 18) %>
            </div>
          </div>
          <% } %>
        </div>
      </div>
    </div>
  </div>
  <div class="offcanvas-body pt-0">
    <div class="body-section">
      <a class="collapse-link" href="<%= t('route.servers') %>/<%= guild.id %>">
        <div>
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="fab fa-microsoft"></i>&nbsp;&nbsp;&nbsp;<span>
            <%= t('sidenav.dashboard') %>
          </span>
        </div>
      </a>
    </div>
    <% for (let section in t('sidenav.sections')) { %>
    <div class="body-section">
      <button class="text-white-50 d-flex align-items-center justify-content-between w-100 border-0 bg-transparent" type="button" data-mdb-toggle="collapse" data-mdb-target="#collapse-<%= section %>" aria-expanded="true" aria-controls="collapse-<%= section %>">
        <span>
          <%= section.toUpperCase() %>
        </span>
        <i class="fas fa-angle-up"></i>
      </button>
      <div id="collapse-<%= section %>" class="collapse show">
        <% for (let tabs of t('sidenav.sections')[section]) { %>
        <a class="collapse-link" href="<%= t('route.servers') %>/<%= guild.id %><%= tabs.href %>">
          <div>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<i class="<%= tabs.emoji %>"></i>&nbsp;&nbsp;&nbsp;<span>
              <%= tabs.title %>
            </span>
          </div>
        </a>
        <% } %>
      </div>
    </div>
    <% } %>
  </div>
</div>


<style>
  .collapse-link div span {
    font-weight: normal;
  }

  .collapse-link {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 5px;
    border-radius: 5px;
    width: 100%;
    color: aliceblue;
    transition: all 0.2s ease-in-out;
    -o-transition: all 0.2s ease-in-out;
    -moz-transition: all 0.2s ease-in-out;
    -webkit-transition: all 0.2s ease-in-out;
  }

  .collapse-link:hover {
    background: rgba(240, 248, 255, 0.1);
    color: rgba(240, 248, 255, 0.7);
  }

  .offcanvas {
    transition: all 0.2s ease-in-out;
    -o-transition: all 0.2s ease-in-out;
    -moz-transition: all 0.2s ease-in-out;
    -webkit-transition: all 0.2s ease-in-out;
    background: #23272A;
    color: aliceblue;
    padding: 10px 5px;
    width: 300px;
  }

  .body-section {
    color: aliceblue;
    margin: 5px 0;
  }

  .body-section .fas {
    transition: .3s transform ease-in-out;
    -o-transition: .3s transform ease-in-out;
    -moz-transition: .3s transform ease-in-out;
    -webkit-transition: .3s transform ease-in-out;
  }

  .body-section .collapsed .fas {
    transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
  }
</style>